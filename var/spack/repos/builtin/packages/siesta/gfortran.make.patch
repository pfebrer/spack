--- a/Obj/gfortran.make	2020-02-03 12:02:55.719082400 +0100
+++ b/Obj/gfortran.make	2020-02-03 15:37:29.878820457 +0100
@@ -1,4 +1,4 @@
-# 
+#
 # Copyright (C) 1996-2016	The SIESTA group
 #  This file is distributed under the terms of the
 #  GNU General Public License: see COPYING in the top directory
@@ -35,11 +35,27 @@
 
 LDFLAGS =
 
+BLAS_LIBS =
+LAPACK_LIBS =
+SCALAPACK_LIBS =
+
 COMP_LIBS = libsiestaLAPACK.a libsiestaBLAS.a
 
 FPPFLAGS = $(DEFS_PREFIX)-DFC_HAVE_ABORT
+FPPFLAGS+=
+
+INCFLAGS+=
 
-LIBS =
+NETCDF_LIBS =
+
+LIBS = $(NETCDF_LIBS) -lpthread $(SCALAPACK_LIBS) $(LAPACK_LIBS) $(BLAS_LIBS)
+
+#SIESTA needs an F90 interface to MPI
+#This will give you SIESTA's own implementation
+#If your compiler vendor offers an alternative, you may change
+#to it here.
+MPI_INTERFACE=libmpi_f90.a
+MPI_INCLUDE=.
 
 # Dependency rules ---------
 
@@ -49,16 +65,15 @@
 # will make an erroneous compilation of atom.f with high optimization
 # levels.
 atom.o: atom.F
-	$(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $< 
+	$(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $<
 
 .c.o:
-	$(CC) -c $(CFLAGS) $(INCFLAGS) $(CPPFLAGS) $< 
+	$(CC) -c $(CFLAGS) $(INCFLAGS) $(CPPFLAGS) $<
 .F.o:
-	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F)  $< 
+	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F)  $<
 .F90.o:
-	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_free_F90) $< 
+	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_free_F90) $<
 .f.o:
 	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_fixed_f)  $<
 .f90.o:
 	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_free_f90)  $<
-
